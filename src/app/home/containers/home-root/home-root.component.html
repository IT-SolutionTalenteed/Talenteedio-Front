<app-loader
  class="container-our-customer"
  [isLoading]="partnersLoading$ | async"
>
  <!-- Hero Section -->
  <section class="hero-section">
    <div class="hero-content">
      <div class="hero-text">
        <p class="hero-subtitle">Dépassez vos attentes de carrière</p>
        <h1 class="hero-title">
          Créer le meilleur. Jour. <span class="accent">Toujours.</span>
        </h1>
        <div class="hero-stats">
          <div class="stat-item">
            <div class="stat-icon">
              <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                <path d="M12 2L15.09 8.26L22 9.27L17 14.14L18.18 21.02L12 17.77L5.82 21.02L7 14.14L2 9.27L8.91 8.26L12 2Z" fill="currentColor"/>
              </svg>
            </div>
            <div class="stat-content">
              <div class="stat-number">20k+</div>
              <div class="stat-label">Événements planifiés</div>
            </div>
          </div>
          <div class="stat-item">
            <div class="stat-icon">
              <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                <path d="M16 11C17.66 11 18.99 9.66 18.99 8C18.99 6.34 17.66 5 16 5C14.34 5 13 6.34 13 8C13 9.66 14.34 11 16 11ZM8 11C9.66 11 10.99 9.66 10.99 8C10.99 6.34 9.66 5 8 5C6.34 5 5 6.34 5 8C5 9.66 6.34 11 8 11ZM8 13C5.67 13 1 14.17 1 16.5V19H15V16.5C15 14.17 10.33 13 8 13ZM16 13C15.71 13 15.38 13.02 15.03 13.05C16.19 13.89 17 15.02 17 16.5V19H23V16.5C23 14.17 18.33 13 16 13Z" fill="currentColor"/>
              </svg>
            </div>
            <div class="stat-content">
              <div class="stat-number">260</div>
              <div class="stat-label">Organisateurs d'événements</div>
            </div>
          </div>
        </div>
      </div>
      <div class="hero-image">
        <div class="floating-card card-1">
          <app-interview [interview]="interview$ | async"></app-interview>
        </div>
      </div>
    </div>
  </section>

  <!-- Services Cards Section -->
  <section class="services-section">
    <div class="services-grid">
      <a [routerLink]="['/job']" class="service-card card-jobs">
        <div class="card-icon">
          <svg width="32" height="32" viewBox="0 0 24 24" fill="none">
            <path d="M20 6H16V4C16 2.89 15.11 2 14 2H10C8.89 2 8 2.89 8 4V6H4C2.89 6 2.01 6.89 2.01 8L2 19C2 20.11 2.89 21 4 21H20C21.11 21 22 20.11 22 19V8C22 6.89 21.11 6 20 6ZM14 6H10V4H14V6Z" fill="currentColor"/>
          </svg>
        </div>
        <h3 class="card-title">Trouver un emploi</h3>
        <p class="card-description">Votre porte d'entrée vers des possibilités infinies et des opportunités de carrière passionnantes</p>
        <span class="card-link">Parcourir les emplois →</span>
      </a>

      <a [routerLink]="['/freelance']" class="service-card card-missions">
        <div class="card-icon">
          <svg width="32" height="32" viewBox="0 0 24 24" fill="none">
            <path d="M12 2L2 7L12 12L22 7L12 2Z" fill="currentColor"/>
            <path d="M2 17L12 22L22 17V11L12 16L2 11V17Z" fill="currentColor" opacity="0.7"/>
          </svg>
        </div>
        <h3 class="card-title">Trouver des missions</h3>
        <p class="card-description">Découvrez des opportunités freelance et connectez-vous avec des projets passionnants</p>
        <span class="card-link">Parcourir les missions →</span>
      </a>

      <a [routerLink]="['/event']" class="service-card card-voice">
        <div class="card-icon">
          <svg width="32" height="32" viewBox="0 0 24 24" fill="none">
            <path d="M19 4H18V2H16V4H8V2H6V4H5C3.89 4 3.01 4.9 3.01 6L3 20C3 21.1 3.89 22 5 22H19C20.1 22 21 21.1 21 20V6C21 4.9 20.1 4 19 4ZM19 20H5V10H19V20ZM19 8H5V6H19V8ZM12 13H17V18H12V13Z" fill="currentColor"/>
          </svg>
        </div>
        <h3 class="card-title">Événements</h3>
        <p class="card-description">Participez aux événements RH et développez votre réseau</p>
        <span class="card-link">Découvrir →</span>
      </a>

      <a [routerLink]="['/blog']" class="service-card card-coaching">
        <div class="card-icon">
          <svg width="32" height="32" viewBox="0 0 24 24" fill="none">
            <path d="M19 3H5C3.9 3 3 3.9 3 5V19C3 20.1 3.9 21 5 21H19C20.1 21 21 20.1 21 19V5C21 3.9 20.1 3 19 3ZM14 17H7V15H14V17ZM17 13H7V11H17V13ZM17 9H7V7H17V9Z" fill="currentColor"/>
          </svg>
        </div>
        <h3 class="card-title">Articles</h3>
        <p class="card-description">Actualités RH, conseils carrière et tendances du marché</p>
        <span class="card-link">Lire →</span>
      </a>
    </div>
  </section>

  <!-- Featured Jobs Section -->
  <section class="featured-jobs-section">
    <div class="section-header">
      <h2 class="section-title">Nos opportunités <span class="accent">en direct</span></h2>
      <p class="section-description">Découvrez les dernières offres d'emploi adaptées à vos aspirations professionnelles</p>
    </div>
    <app-featured-job
      [jobs]="jobs$ | async"
      [jobsLoading]="jobsLoading$ | async"
      [homeSettingLoading]="homeSettingLoading$ | async"
      [homeSetting]="homeSetting$ | async"
    />
    <div class="section-footer">
      <a [routerLink]="['/job']">
        <button class="view-more-button">
          Voir tous les emplois
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none">
            <path d="M5 12H19M19 12L12 5M19 12L12 19" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
        </button>
      </a>
    </div>
  </section>

  <!-- Upcoming Events Section -->
  <section class="upcoming-events-section">
    <div class="section-header">
      <h2 class="section-title">Événements <span class="accent">à venir</span></h2>
      <p class="section-description">Ne manquez pas nos prochains événements passionnants et opportunités de réseautage</p>
    </div>
    <app-loader [isLoading]="upcomingEventsLoading$ | async">
      <div class="events-grid" *ngIf="upcomingEvents$ | async as events">
        <div class="event-card" *ngFor="let event of events" [routerLink]="['/event/detail', event.slug]">
          <div class="event-date-badge">
            <div class="event-day">{{ event.date | date: 'dd' }}</div>
            <div class="event-month">{{ event.date | date: 'MMM' }}</div>
          </div>
          <div class="event-content">
            <h3 class="event-title">{{ event.title }}</h3>
            <div class="event-details">
              <div class="event-detail" *ngIf="event.startTime">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none">
                  <path d="M12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C17.5 22 22 17.5 22 12C22 6.5 17.5 2 12 2ZM12 20C7.59 20 4 16.41 4 12C4 7.59 7.59 4 12 4C16.41 4 20 7.59 20 12C20 16.41 16.41 20 12 20ZM12.5 7H11V13L16.2 16.2L17 14.9L12.5 12.2V7Z" fill="currentColor"/>
                </svg>
                <span>{{ event.startTime }}</span>
                <span *ngIf="event.endTime"> - {{ event.endTime }}</span>
              </div>
              <div class="event-detail" *ngIf="event.location">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none">
                  <path d="M12 2C8.13 2 5 5.13 5 9C5 14.25 12 22 12 22C12 22 19 14.25 19 9C19 5.13 15.87 2 12 2ZM12 11.5C10.62 11.5 9.5 10.38 9.5 9C9.5 7.62 10.62 6.5 12 6.5C13.38 6.5 14.5 7.62 14.5 9C14.5 10.38 13.38 11.5 12 11.5Z" fill="currentColor"/>
                </svg>
                <span>{{ event.location }}</span>
              </div>
              <div class="event-detail" *ngIf="event.maxParticipants">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none">
                  <path d="M16 11C17.66 11 18.99 9.66 18.99 8C18.99 6.34 17.66 5 16 5C14.34 5 13 6.34 13 8C13 9.66 14.34 11 16 11ZM8 11C9.66 11 10.99 9.66 10.99 8C10.99 6.34 9.66 5 8 5C6.34 5 5 6.34 5 8C5 9.66 6.34 11 8 11ZM8 13C5.67 13 1 14.17 1 16.5V19H15V16.5C15 14.17 10.33 13 8 13ZM16 13C15.71 13 15.38 13.02 15.03 13.05C16.19 13.89 17 15.02 17 16.5V19H23V16.5C23 14.17 18.33 13 16 13Z" fill="currentColor"/>
                </svg>
                <span>Max {{ event.maxParticipants }} participants</span>
              </div>
            </div>
            <div class="event-companies" *ngIf="event.companies && event.companies.length > 0">
              <div class="companies-label">Entreprises participantes :</div>
              <div class="companies-logos">
                <div class="company-logo-small" *ngFor="let company of event.companies.slice(0, 3)" [title]="company.company_name">
                  <img [src]="company.logo?.fileUrl || 'assets/img/favicon.png'" [alt]="company.company_name" />
                </div>
                <div class="more-companies" *ngIf="event.companies.length > 3">
                  +{{ event.companies.length - 3 }}
                </div>
              </div>
            </div>
          </div>
          <div class="event-arrow">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
              <path d="M5 12H19M19 12L12 5M19 12L12 19" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
          </div>
        </div>
        <div class="no-events" *ngIf="events.length === 0">
          <svg width="64" height="64" viewBox="0 0 24 24" fill="none">
            <path d="M19 4H18V2H16V4H8V2H6V4H5C3.89 4 3.01 4.9 3.01 6L3 20C3 21.1 3.89 22 5 22H19C20.1 22 21 21.1 21 20V6C21 4.9 20.1 4 19 4ZM19 20H5V10H19V20ZM19 8H5V6H19V8Z" fill="currentColor" opacity="0.3"/>
          </svg>
          <p>Aucun événement à venir pour le moment. Revenez bientôt !</p>
        </div>
      </div>
    </app-loader>
    <div class="section-footer" *ngIf="(upcomingEvents$ | async)?.length > 0">
      <a [routerLink]="['/event']">
        <button class="view-more-button">
          Voir tous les événements
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none">
            <path d="M5 12H19M19 12L12 5M19 12L12 19" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
        </button>
      </a>
    </div>
  </section>

  <!-- Companies Section -->
  <section class="companies-section">
    <div class="section-header">
      <h2 class="section-title">La confiance des <span class="accent">entreprises leaders</span></h2>
      <p class="section-description">Rejoignez le réseau d'entreprises innovantes qui nous font confiance pour leurs besoins en talents</p>
    </div>
    <app-loader [isLoading]="companiesLoading$ | async">
      <div class="companies-grid" *ngIf="companies$ | async as companies">
        <div class="company-card" *ngFor="let company of companies">
          <div class="company-logo">
            <img [src]="company.logo?.fileUrl || 'assets/img/favicon.png'" [alt]="company.company_name" />
          </div>
          <h3 class="company-name">{{ company.company_name }}</h3>
          <p class="company-location" *ngIf="company.contact?.address">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none">
              <path d="M12 2C8.13 2 5 5.13 5 9C5 14.25 12 22 12 22C12 22 19 14.25 19 9C19 5.13 15.87 2 12 2ZM12 11.5C10.62 11.5 9.5 10.38 9.5 9C9.5 7.62 10.62 6.5 12 6.5C13.38 6.5 14.5 7.62 14.5 9C14.5 10.38 13.38 11.5 12 11.5Z" fill="currentColor"/>
            </svg>
            {{ company.contact.address.city }}, {{ company.contact.address.country }}
          </p>
        </div>
      </div>
    </app-loader>
  </section>

  <!-- HR Media Section -->
  <section class="media-section">
    <div class="section-header">
      <h2 class="section-title">
        Votre entreprise locale <span class="accent">connectée</span> et vos
        <span class="accent">ressources</span> ultimes
      </h2>
      <p class="section-description">Restez informé avec les dernières actualités RH, articles et interviews d'experts</p>
    </div>
    <app-news [news]="articles$ | async"></app-news>
  </section>

</app-loader>
