<div class="google-register-modal">
  <div class="modal-content">
    <div class="modal-header">
      <h3>Finaliser votre inscription</h3>
      <button type="button" class="close-btn" (click)="onCancel()">×</button>
    </div>

    <div class="modal-body">
      <div class="google-info" *ngIf="googleData">
        <p>Compte Google: <strong>{{ googleData.email }}</strong></p>
        <p>Nom: <strong>{{ googleData.firstname }} {{ googleData.lastname }}</strong></p>
      </div>

      <form [formGroup]="registerForm" (ngSubmit)="onSubmit()">
        <div class="form-group">
          <label for="role">Type de compte *</label>
          <select 
            id="role" 
            formControlName="role" 
            class="form-control"
            (change)="onRoleChange()">
            <option value="">Sélectionnez votre rôle</option>
            <option *ngFor="let role of roles" [value]="role.value">
              {{ role.label }}
            </option>
          </select>
        </div>

        <div class="form-group">
          <label for="phone">Téléphone *</label>
          <input 
            type="tel" 
            id="phone" 
            formControlName="phone" 
            class="form-control"
            placeholder="Votre numéro de téléphone">
        </div>

        <div class="form-group" *ngIf="registerForm.get('role')?.value === 'company'">
          <label for="company_name">Nom de l'entreprise *</label>
          <input 
            type="text" 
            id="company_name" 
            formControlName="company_name" 
            class="form-control"
            placeholder="Nom de votre entreprise">
        </div>

        <div class="form-group" *ngIf="registerForm.get('role')?.value === 'talent'">
          <label>Compétences *</label>
          <p class="help-text">Vous pourrez sélectionner vos compétences après l'inscription</p>
        </div>

        <div class="error-message" *ngIf="errorMessage">
          {{ errorMessage }}
        </div>

        <div class="form-actions">
          <button 
            type="button" 
            class="btn btn-secondary" 
            (click)="onCancel()"
            [disabled]="isLoading">
            Annuler
          </button>
          <button 
            type="submit" 
            class="btn btn-primary" 
            [disabled]="!registerForm.valid || isLoading">
            <span *ngIf="isLoading">Inscription...</span>
            <span *ngIf="!isLoading">S'inscrire</span>
          </button>
        </div>
      </form>
    </div>
  </div>
</div>